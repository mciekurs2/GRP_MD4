<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <style>
        body { margin: 0;  overflow: hidden}
        canvas { width: 100%; height: 100% }
    </style>
</head>
<body>
<script src="three.min.js"></script>
<script src="OrbitControls.js"></script>
<script src="GLTFLoader.js"></script>
<script>
    const module = {
        camera: null, renderer: null, scene: null, controls: null,

        init(){
            //izveido camera
            this.camera = new THREE.PerspectiveCamera( 45, window.innerWidth / window.innerHeight, 0.25, 20 );
            //this.camera.position.set( -1.8, 0.9, 2.7 );

            //izveido controls, lai var kustinat kameru
            this.controls = new THREE.OrbitControls( this.camera );
            //this.controls.target.set( 0, -0.2, -0.2 );
            //this.controls.update();

            //izveido scene
            this.scene = new THREE.Scene();
            //izmēģinājuma variants
            this.scene.background = new THREE.Color("#5388ff");

            //izveido renderer
            let renderer = new THREE.WebGLRenderer({antialias: true});
            renderer.shadowMap.enabled = true;
            renderer.setSize( window.innerWidth, window.innerHeight );
            renderer.setClearColor("#a3a3a3");
            this.renderer = renderer;
            document.body.appendChild( renderer.domElement );

            //izsauc funkcijas
            this.createWorld();
            this.createObjects();
            this.createLigths();
            this.animate();

        },

        createObjects(){
            var plane = new THREE.Mesh( new THREE.PlaneGeometry( 20, 20 ),
                new THREE.MeshStandardMaterial( {color: "#ff5997", side: THREE.DoubleSide} ));
            plane.rotation.x = Math.PI /2;
            plane.position.y = -0.5;
            plane.receiveShadow = true;

            this.scene.add( plane );
        },

        createWorld(){
            //šeit izveido loader
            let loader = new THREE.GLTFLoader();
            loader.load(
                `kresls.gltf`,
                ( gltf ) => {
                    this.scene.add(gltf.scene);
                    gltf.scene.scale.set(1000, 1000, 1000)

                },
                null,
                null
            );

        },

        createLigths(){
            /*let light = new THREE.HemisphereLight( 0xbbbbff, 0x444422 );
            light.position.set( 0, 1, 0 );
            this.scene.add( light );

            light = new THREE.DirectionalLight( 0xffffff );
            light.position.set( -10, 6, -10 );
            this.scene.add( light );*/

            //pievieno pagaidam
            this.scene.add(new THREE.AmbientLight(0x404040))

        },

        animate(){
            this.controls.update();

            //veic animaciju
            requestAnimationFrame(() => this.animate());
            this.renderer.render(this.scene, this.camera);
        }
    };

    module.init();



</script>

</body>
</html>